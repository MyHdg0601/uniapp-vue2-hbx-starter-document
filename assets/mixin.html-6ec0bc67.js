import{_ as o,W as l,X as p,Y as n,a0 as s,Z as a,$ as e,a1 as r,C as i}from"./framework-d7afda32.js";const u={},d={class:"hint-container tip"},k=n("p",{class:"hint-container-title"},"提示",-1),h={href:"https://v2.cn.vuejs.org/v2/guide/mixins.html",target:"_blank",rel:"noopener noreferrer"},m=r('<h3 id="indexmixin" tabindex="-1"><a class="header-anchor" href="#indexmixin" aria-hidden="true">#</a> indexMixin</h3><div class="hint-container note"><p class="hint-container-title">说明</p><p><code>/mixins/index.js</code> 是全局注册的混入，Vue实例中可通过 <code>this</code> 访问</p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>请谨慎使用全局混入，因为它会影响每个单独创建的Vue实例（包括第三方组件）</p></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>默认包含的内容如下所示</p></div><h4 id="computed" tabindex="-1"><a class="header-anchor" href="#computed" aria-hidden="true">#</a> computed</h4><ul><li><code>AppConfig</code>：全局配置的引用</li></ul><h4 id="methods" tabindex="-1"><a class="header-anchor" href="#methods" aria-hidden="true">#</a> methods</h4><ul><li><p><code>preventDefault()</code>：只是一个空方法</p></li><li><p><code>destroyToastTimer()</code>：一般在页面或组件销毁时调用，用以销毁未关闭的 <code>Toast</code> 定时器，防止内存泄漏或其他业务异常（按需使用）</p></li></ul><h3 id="lifecyclemixin" tabindex="-1"><a class="header-anchor" href="#lifecyclemixin" aria-hidden="true">#</a> lifecycleMixin</h3><div class="hint-container note"><p class="hint-container-title">说明</p><p><code>/mixins/lifecycle.js</code> 用于存储当前页面的生命周期变化，以便于页面内组件可感知其所在页面当前所处的生命周期（仅能在pages.json中配置的页面使用），一般用于 <code>AppContainer</code> 组件</p></div>',10),b={class:"hint-container info"},v=n("p",{class:"hint-container-title"},"相关信息",-1),g=n("h3",{id:"echartsmixin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#echartsmixin","aria-hidden":"true"},"#"),s(" echartsMixin")],-1),_={class:"hint-container note"},f=n("p",{class:"hint-container-title"},"说明",-1),y=n("code",null,"/mixins/echarts.js",-1),x=n("code",null,"echarts",-1),w=n("code",null,"echarts",-1),j={href:"https://ext.dcloud.net.cn/plugin?id=4899",target:"_blank",rel:"noopener noreferrer"},C=n("div",{class:"hint-container info"},[n("p",{class:"hint-container-title"},"相关信息"),n("p",null,"使用示例如下所示")],-1),V=n("div",{class:"language-vue line-numbers-mode","data-ext":"vue"},[n("pre",{vue:"",class:"language-vue"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("app-container")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("l-echart")]),s(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("charts"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("charts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("l-echart")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("app-container")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
  `),n("span",{class:"token keyword"},"import"),s(" echartsMixin "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@/mixins/echarts.js"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"import"),s(" chartsOption "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"这里是自己的echarts配置数据路径"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"mixins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s("echartsMixin"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"methods"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token function"},"testUpdateChartsOption"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// 只需一行即可实现图表的创建及更新，无需判断图表实例是否存在，方法内部会自动处理图表实例的创建及缓存"),s(`
        `),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"updateEchartsOption"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("$refs"),n("span",{class:"token punctuation"},"."),s("charts"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"chartsInstance"'),n("span",{class:"token punctuation"},","),s(" chartsOption"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L={class:"hint-container warning"},q=n("p",{class:"hint-container-title"},"注意",-1),E=n("code",null,"echarts",-1),M=n("code",null,"import",-1),R=n("code",null,"dynamicRequire",-1),I=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{javascript:"",class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// /mixins/echarts.js"),s(`

`),n("span",{class:"token comment"},"// 该示例中仅提供变化部分，其余保持原样"),s(`

`),n("span",{class:"token comment"},"// 添加下面2行引入相关方法及配置"),s(`
`),n("span",{class:"token keyword"},"import"),s(" Config "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@/utils/config.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" dynamicRequire "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@/utils/script.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// 移除下面这1行"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" echarts "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"echarts"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// 根据需要在data中添加echarts加载状态标志量"),s(`
  `),n("span",{class:"token function"},"data"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"echartsLoaded"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token comment"},"// 添加mounted方法以加载echarts库"),s(`
  `),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token function"},"mounted"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" echarts "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"dynamicRequire"),n("span",{class:"token punctuation"},"("),s("Config"),n("span",{class:"token punctuation"},"."),s("cdn"),n("span",{class:"token punctuation"},"."),s("echarts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("echarts "),n("span",{class:"token operator"},"="),s(" echarts"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("echartsLoaded "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"methods"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"ensureEchartsInstance"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("ref"),n("span",{class:"token punctuation"},","),s(" instanceKey")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token comment"},"// 添加下面这1行"),s(`
      `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" echarts "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token comment"},"// 以下为原本的方法实现"),s(`
      `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),N={class:"hint-container danger"},O=n("p",{class:"hint-container-title"},"警告",-1);function T(B,A){const c=i("ExternalLinkIcon"),t=i("RouterLink");return l(),p("div",null,[n("div",d,[k,n("p",null,[s("混入(mixin)的用法请查阅 "),n("a",h,[s("混入 | Vue官方文档"),a(c)])])]),m,n("div",b,[v,n("p",null,[s("使用示例请参考"),a(t,{to:"/guide/page-structure.html"},{default:e(()=>[s("页面结构")]),_:1}),s("部分")])]),g,n("div",_,[f,n("p",null,[y,s(" 提供了3个 "),x,s(" 相关的封装方法，旨在降低uniapp中 "),w,s(" 的使用难度以及减少重复代码（基于DCloud插件市场中的"),n("a",j,[s("百度图表 echarts"),a(c)]),s("实现）")])]),C,V,n("div",L,[q,n("p",null,[s("注意需要根据实际情况修改文件中 "),E,s(" 的 "),M,s(" 来源，或者可以使用"),a(t,{to:"/guide/eval.html"},{default:e(()=>[s("动态执行")]),_:1}),s("部分中所提到的 "),R,s(" 进行改造，改造示例如下")])]),I,n("div",N,[O,n("p",null,[s("目前采用"),a(t,{to:"/guide/eval.html"},{default:e(()=>[s("动态执行")]),_:1}),s("技术的微信小程序已无法通过审核，请谨慎使用")])])])}const $=o(u,[["render",T],["__file","mixin.html.vue"]]);export{$ as default};
